(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{addButton:()=>c,addEventListenersToListElements:()=>p,checkProjectListForActiveProject:()=>f,createElement:()=>d,createProjectArray:()=>m,createProjectListElement:()=>D,createTaskArray:()=>h,filterTasksToday:()=>j,filterTasksWeek:()=>k,findProjectIndexByName:()=>u,getCurrentWeek:()=>g,isCurrentWeek:()=>E,projectList:()=>s,removeAllChildren:()=>l,sidebarButtons:()=>r,viewContainer:()=>i});class n{constructor(e,t){this.name=e,this.creationDate=(new Date).toLocaleDateString("de-DE"),this.creationDateEpoch=(new Date).getTime(),this.dueDate=t,this.isDone=!1}setName(e){this.name=e}getName(){return this.name}setCreationDate(){}getCreationDate(){return this.creationDate}setDueDate(e){}getDueDate(){return this.dueDate}setIsDone(e){"boolean"==typeof e&&(this.isDone=e)}getIsDone(){return this.isDone}}class o{constructor(e){this.name=e,this.projectId=o.incrementId(),this.creationDate=(new Date).toLocaleDateString("de-DE"),this.creationDateEpoch=(new Date).getTime(),this.tasks=[]}static incrementId(){return this.latestId||0==this.latestId?this.latestId++:this.latestId=0,this.latestId}setName(e){this.name=e}getName(){return this.name}addTask(e){this.tasks.push(e)}removeTask(e){}}class a{constructor(e){this.projects=[]}addProject(e){this.projects.push(e)}removeProject(e){}allTasks(){const e=[];return this.projects.forEach((t=>{t.tasks.forEach((t=>e.push(t)))})),e}}const r=document.querySelectorAll(".sidebar-button"),s=document.querySelector(".project-ul"),i=document.querySelector(".view-container"),c=document.getElementById("add-task");function d(e,t,n=""){Array.isArray(t)&&(t=t.join(" "));const o=document.createElement(`${e}`);return void 0!==t&&(o.classList=t),o.textContent=`${n}`,o}function l(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function u(e,t=theTODOLIST){t.projects.forEach(((t,n)=>{t.name==e?console.log("found name at index: "+n):console.log("haven't found name")}))}function p(){Array.from(s.children).forEach((e=>e.addEventListener("click",projectListClickEvent)))}function f(){const e=Array.from(s.children);for(const t of e){if("true"==t.attributes.active.value)return console.log("found active element"),t;console.log("found no active element")}}function h(e){if(!Array.isArray(e))throw Error("Expected Input is an Array.");const t=[];return e.forEach((e=>{const n=d("li",["task-container"]),o=d("p",`${e.name}-paragraph task-text`,`${e.name}`),a=d("p",`${e.name}-paragraph task-text`,`${e.creationDate}`),r=d("p",`${e.name}-paragraph task-text`,`${e.dueDate}`),s=d("p",`${e.name}-paragraph task-text`,`${e.isDone}`);n.appendChild(o),n.appendChild(a),n.appendChild(r),n.appendChild(s),t.push(n)})),t}function m(e){if(!(e instanceof o))throw Error("Not a Instance of Project");const t=h(e.tasks),n=d("h1","view-project-heading",`${e.name}`);return t.unshift(n),t.forEach((t=>{t.setAttribute("project-id",`${e.projectId}`),t.classList.add(`${e.name}`)})),t}function D(e){if(!(e instanceof o))throw Error("Input is not a Project Instance");const t=e.name,n=d("li",["project-li",`${t}-project`]),a=d("p","project-name",`${t}`),r=d("span","project-li-close");return r.innerHTML="&times;",n.appendChild(a),n.appendChild(r),n.setAttribute("project-data",`${e.projectId}`),n.setAttribute("active","false"),n}function j(e=defaultToDoList){if(!(e instanceof a))throw Error("Not an Instance of ToDoList");const t=e.allTasks(),n=(new Date).toLocaleDateString("de-DE");return t.filter((e=>{if(e.dueDate==n)return!0}))}function g(){const e=new Date,t=e.getDate()-e.getDay()+1;let n=new Date(e.setDate(t));n=new Date(n.setHours(0,0,0,0));let o=new Date(e.setDate(t+6));return o=new Date(o.setHours(23,59,59,0)),{firstDay:n,lastDay:o}}function E(e){const t=g();return e>=t.firstDay.getTime()&&e<=t.lastDay.getTime()}function k(e=defaultToDoList){if(!(e instanceof a))throw Error("Not an Instance of ToDoList");return e.allTasks().filter((e=>utils.isCurrentWeek(new Date(e.dueDate.split(".").reverse().join("/")).getTime())))}function T(e){if(!(e instanceof a))throw Error("Input is not a TodoList Instance");const t=document.querySelector(".project-ul");l(t),l(i),e.projects.forEach((e=>{const n=D(e),o=m(e);t.appendChild(n),o.forEach((e=>i.appendChild(e)))}))}const w=new n("Default","1.12.2021"),v=new n("Default","10.12.2021"),y=new o("DefaultProject"),L=new o("DefaultProjectTwo"),C=new a("DefaultToDoList");y.addTask(w),y.addTask(v),y.addTask(w),L.addTask(v),L.addTask(w),L.addTask(w),C.addProject(y),C.addProject(L),T(C),document.querySelectorAll(".project-li")[0].firstElementChild.addEventListener("click",(e=>{console.log(e.target.parentElement.attributes["project-data"].value),function(e){if("SPAN"==e.target.tagName)return console.log("span");Array.from(document.querySelector(".project-ul").children).forEach((e=>e.attributes.active.value="false")),e.target.parentElement.attributes.active.value="true"}(e);const t=e.target.parentElement.attributes["project-data"].value;!function(e){const t=m(e);l(i),t.forEach((e=>i.appendChild(e)))}(C.projects[t])})),r[0].addEventListener("click",(e=>T(C))),r[1].addEventListener("click",(function(){let e=h(j());0==e.length&&console.log("toRender empty"),l(i),e.forEach((e=>i.appendChild(e)))})),r[2].addEventListener("click",(function(){const e=h(k());l(i),e.forEach((e=>i.appendChild(e)))})),r[3].addEventListener("click",(function(e){console.log(e);const t=prompt("Enter Project Name: "),n=new Project(t);defaultToDoList.addProject(n)})),c.addEventListener("click",(function(e){const t=prompt("Please enter TaskName: "),n=prompt("Please enter due date: "),o=new Task(t,n),a=f();if(console.log(a),a){const e=a.attributes.data.value;defaultToDoList.projects[e].addTask(o),console.log("task added succesfully")}else console.log("no active project found")})),window.ToDoList=a,window.Project=o,window.Task=n,window.utils=t,window.defaultToDoList=C,window.renderTodoList=T})();